# Illustrator Service v1.0 - Implementation Roadmap

## Executive Summary

This roadmap outlines a **3-phase, 18-month implementation plan** for the Illustrator Service v1.0, delivering 87 professional PowerPoint illustrations across 10 categories. The service uses **pre-built, human-validated HTML+CSS templates** with a simple runtime: load template → fill text → apply theme → return.

**Core Philosophy**: Each illustration template is built iteratively with **human validation gates**. Claude Code builds templates, you validate and approve, then we move forward. This ensures every output meets professional standards.

**Total Scope**: 87 illustrations | **Timeline**: 18 months | **Estimated Effort**: 420-540 hours

---

## Phase 1: Essential Illustrations Foundation (6 months)

**Objective**: Deliver the 20 most critical illustrations that cover 80% of common presentation needs, with simple infrastructure.

### Scope
- **20 Tier 1 Illustrations** (highest business value)
- **Simple Service Infrastructure** (FastAPI + Jinja2 + Playwright)
- **4 Color Themes** (Professional, Bold, Minimal, Playful)
- **3 Preset Sizes** (Small: 600×400, Medium: 1200×800, Large: 1800×720)
- **HTML+CSS first** (SVG only when necessary)

---

## Month 1-2: Simple Infrastructure Setup

**Objective**: Build minimal working service that can load templates, fill text, apply themes, and convert to PNG.

**Effort**: 40-60 hours (simplified from original 60-80)

### Week 1-2: Core FastAPI Application

**Deliverables**:
- FastAPI application with single endpoint: `POST /v1.0/generate`
- Pydantic request/response models
- Basic error handling
- Health check endpoint: `GET /health`
- CORS configuration

**Implementation**:
```python
# main.py - Minimal working service
from fastapi import FastAPI, HTTPException
from pydantic import BaseModel
from typing import Dict, Any

app = FastAPI(title="Illustrator Service v1.0")

class IllustrationRequest(BaseModel):
    illustration_type: str
    variant_id: str = "base"
    data: Dict[str, Any]
    theme: str = "professional"
    size: str = "medium"
    output_format: str = "html"

@app.post("/v1.0/generate")
async def generate(request: IllustrationRequest):
    # Implementation in weeks 3-4
    pass

@app.get("/health")
async def health():
    return {"status": "healthy"}
```

### Week 3-4: Template Loading & Theme System

**Deliverables**:
- Jinja2 template loading with file system caching
- 4 theme color palettes (Python dataclasses)
- 3 size preset definitions
- Template filling logic (simple string substitution)

**Implementation**:
```python
# app/themes.py
from dataclasses import dataclass

@dataclass
class Theme:
    name: str
    primary: str
    secondary: str
    background: str
    text: str
    # ... other colors

PROFESSIONAL = Theme(
    name="professional",
    primary="#0066CC",
    # ... other colors
)

THEMES = {
    "professional": PROFESSIONAL,
    "bold": BOLD,
    "minimal": MINIMAL,
    "playful": PLAYFUL
}

# app/services.py
class TemplateService:
    def load_template(self, type, variant):
        # Load from templates/{type}/{variant}.html
        pass

    def fill_template(self, template, data, theme, size):
        # Simple: template.format(**data, **theme_colors)
        pass
```

### Week 5-6: PNG Conversion with Playwright

**Deliverables**:
- Playwright integration for HTML → PNG
- Screenshot function with viewport sizing
- Base64 data URL encoding
- Basic performance testing

**Implementation**:
```python
# app/converter.py
async def html_to_png(html: str, width: int, height: int) -> str:
    async with async_playwright() as p:
        browser = await p.chromium.launch()
        page = await browser.new_page(viewport={"width": width, "height": height})
        await page.set_content(html)
        screenshot = await page.screenshot(type="png")
        await browser.close()
        return base64.b64encode(screenshot).decode()
```

### Week 7-8: Testing & Documentation

**Deliverables**:
- Unit tests for template loading
- Unit tests for theme application
- Integration test for full pipeline
- OpenAPI/Swagger docs auto-generated by FastAPI
- README with setup instructions

**Success Criteria**:
- ✅ Service runs locally
- ✅ Can load a test template
- ✅ Can fill template with data
- ✅ Can apply theme colors
- ✅ Can convert HTML to PNG
- ✅ All 4 themes work
- ✅ All 3 sizes work

---

## Months 3-6: Build 20 Tier 1 Illustrations (Validation-Driven)

**Objective**: Build 20 essential illustrations with **human validation for each**.

**Effort**: 100-140 hours (20 illustrations × 5-7 hours average)

### Validation-Driven Workflow (For EVERY Illustration)

**Step 1: Build Base Template** (1-2 hours per illustration)
- Claude Code creates HTML+CSS template
- Uses placeholders for text: `{title}`, `{bullet_1}`, etc.
- Uses placeholders for colors: `{theme.primary}`, etc.
- Tests with sample data locally
- Verifies rendering at all 3 sizes

**Step 2: Present for Validation** (15-30 minutes per illustration)
- Show rendered outputs with sample data
- Display all 4 themes side-by-side
- Display all 3 sizes
- **YOU provide feedback**: layout, spacing, typography, colors, alignment

**Step 3: Iterate Until Approved** (30 minutes - 2 hours depending on feedback)
- Adjust based on your feedback
- Re-present updated version
- Repeat until you approve base template

**Step 4: Create Variants** (1-2 hours per illustration)
- After base approval, create 2-3 visual variants
- Different styles: rounded corners, minimal borders, colored backgrounds, etc.
- All use same data structure as base

**Step 5: Validate All Variants** (15-30 minutes)
- **YOU review all variants together**
- Approve which ones to keep
- Finalize and save approved variants

**Step 6: Document & Test** (30 minutes)
- Document data schema in API docs
- Create test case for this illustration type
- Update illustration catalog

### Illustration Schedule (Weeks 9-24)

**Weeks 9-10: SWOT Analysis + Ansoff Matrix** ✅ HTML+CSS
1. **SWOT 2×2**: 4-quadrant grid (CSS Grid)
   - Base: Colored quadrant headers
   - Variant 1: White boxes with colored borders
   - Variant 2: Minimal with thin separators

2. **Ansoff Matrix**: 2×2 growth strategy grid (CSS Grid)
   - Base: Axis labels on sides
   - Variant 1: In-quadrant axis labels

**Weeks 11-12: Comparison Layouts** ✅ HTML+CSS
3. **Pros vs Cons**: Two-column layout (Flexbox)
   - Base: Green/red headers
   - Variant 1: Neutral colors

4. **Before vs After**: Side-by-side comparison (Flexbox)
   - Base: Arrow between columns
   - Variant 1: Without arrow

**Weeks 13-14: Process Flow & Timeline** ⚠️ HTML+CSS (try first) → SVG if needed
5. **Process Flow (4-step)**: Horizontal boxes + arrows
   - Try: Flexbox + CSS triangle arrows
   - If doesn't work: SVG with path arrows

6. **Timeline (5-point)**: Horizontal milestones
   - Try: Flexbox with positioned labels
   - Variant: Vertical line under timeline

**Weeks 15-16: Metrics & KPIs** ✅ HTML+CSS
7. **KPI Dashboard (2×2)**: Metric cards grid (CSS Grid)
   - Base: Numbers + labels + trend arrows
   - Variant 1: Colored backgrounds
   - Variant 2: White cards with colored accents

8. **Metrics (3-column)**: Three metric cards (Flexbox)
   - Base: Large numbers, small labels
   - Variant 1: With comparison indicators

**Weeks 17-18: Organizational Charts** ✅ HTML+CSS
9. **Hierarchical Org Chart (3-level)**: Boxes + connecting lines
   - CSS Grid for positioning
   - Border lines for connections
   - Variant: Rounded boxes

10. **Flat Organization**: Minimal hierarchy boxes
    - Flexbox horizontal layout

**Weeks 19-20: Strategic Frameworks (SVG Required)** ⚠️ SVG
11. **BCG Matrix**: 2×2 with axes + plotted circles
    - SVG required (axes, circles)
    - Data points plotted with x/y coordinates

12. **Porter's Five Forces**: Center box + 4 diagonal arrows
    - SVG required (diagonal arrows, positioning)

**Weeks 21-22: Data Visualization** ⚠️ Mix
13. **Value Chain**: Layered horizontal boxes ✅ HTML+CSS
    - CSS Grid for primary/support layers

14. **Pyramid (4-level)**: Stacked triangular levels ⚠️ SVG
    - SVG required (trapezoid shapes)

**Weeks 23-24: Circular & Venn Diagrams** ⚠️ SVG
15. **Circular Process (4-step)**: Circles + curved arrows ⚠️ SVG
    - SVG required (circles, curved paths)

16. **Venn Diagram (2-circle)**: Overlapping circles ⚠️ SVG
    - SVG required (circle overlap, clipping)

17. **Venn Diagram (3-circle)**: Triple overlap ⚠️ SVG
    - SVG required (complex overlaps)

**Week 25-26: Complex Strategic & Visualization** ⚠️ Mix
18. **Funnel Diagram (4-stage)**: Decreasing width trapezoids ⚠️ SVG
    - SVG required (trapezoid shapes)

19. **Gauge/Meter**: Semi-circular gauge + needle ⚠️ SVG
    - SVG required (arc, rotated needle)

20. **Matrix Organization**: Dual reporting grid ✅ HTML+CSS
    - CSS Grid with dual headers

### Phase 1 Success Criteria

**Infrastructure**:
- ✅ FastAPI service running and deployed
- ✅ Template loading with caching
- ✅ All 4 themes working
- ✅ All 3 sizes working
- ✅ HTML → PNG conversion functional
- ✅ API response time <2 seconds

**Illustrations**:
- ✅ 20 Tier 1 illustrations complete
- ✅ Each with base template + 2-3 approved variants
- ✅ All validated by human review
- ✅ All tested with all themes and sizes
- ✅ All documented with data schemas

**Quality**:
- ✅ Professional appearance matching industry standards
- ✅ Clean, readable code
- ✅ Comprehensive test coverage
- ✅ Full API documentation

---

## Phase 2: High-Value Extensions (6 months)

**Objective**: Expand to 45 total illustrations (20 from Phase 1 + 25 new Tier 2 illustrations).

**Effort**: 125-175 hours (25 illustrations × 5-7 hours average)

### Months 7-9: Strategic & Technical Illustrations (15 illustrations)

**Same validation-driven workflow**: Build → Validate → Variants → Approve

**Strategic Frameworks (8 illustrations)**:
21. Balanced Scorecard
22. McKinsey 7S Framework
23. Business Model Canvas
24. Stakeholder Mapping (2×2 grid)
25. Risk Matrix (3×3 or 5×5 grid)
26. PESTEL Analysis (6 factors)
27. Gap Analysis
28. Critical Success Factors

**Technical Diagrams (7 illustrations)** - Mix of HTML+CSS and SVG:
29. System Architecture (boxes + lines) ✅ HTML+CSS
30. Network Topology (nodes + connections) ⚠️ SVG
31. Entity Relationship (boxes + relationship lines) ✅ HTML+CSS
32. Component Diagram (boxes + dependencies) ✅ HTML+CSS
33. Deployment Diagram (nodes + artifacts) ✅ HTML+CSS
34. Sequence Diagram (vertical lifelines) ✅ HTML+CSS
35. Use Case Diagram (actors + use cases) ⚠️ SVG

### Months 10-12: Conceptual & Relationship Diagrams (10 illustrations)

**Relationship Diagrams (5 illustrations)**:
36. Hub and Spoke ⚠️ SVG (center circle + spokes)
37. Mind Map ⚠️ SVG (branching tree structure)
38. Network Graph ⚠️ SVG (arbitrary node positions)
39. Influence Diagram (boxes + arrows) ✅ HTML+CSS
40. Cause and Effect (fishbone) ⚠️ SVG

**Conceptual Diagrams (5 illustrations)**:
41. Iceberg Model (triangle + waterline) ⚠️ SVG
42. Bridge Metaphor (bridge shape) ⚠️ SVG
43. Ladder of Inference (vertical steps) ✅ HTML+CSS
44. Onion Diagram (concentric layers) ⚠️ SVG
45. Cycle of Improvement (circular arrows) ⚠️ SVG

### Phase 2 Enhancements

**Custom Sizing** (Month 12):
- Allow width/height beyond 3 presets
- Validation: min 400×300, max 4000×3000
- Aspect ratio constraints: 1:3 to 3:1

**Theme Customization** (Month 12):
- User-provided color palettes
- Custom theme validation
- Theme preview endpoint

### Phase 2 Success Criteria

- ✅ 45 total illustrations (20+25)
- ✅ Custom sizing support
- ✅ Theme customization working
- ✅ All validated by human review
- ✅ API response time maintained <2 seconds
- ✅ Integration with Director v3.4 tested

---

## Phase 3: Comprehensive Coverage + Custom Endpoint (6 months)

**Objective**: Complete all 87 illustrations + add natural language custom endpoint.

**Effort**: 195-265 hours
- 42 Tier 3 illustrations: 105-140 hours (2.5-3.5 hours average, simpler specialized diagrams)
- Custom endpoint development: 90-125 hours

### Months 13-15: Remaining Specialized Illustrations (42 illustrations)

**Geographical (3 illustrations)** - ⚠️ SVG:
46. World Map Highlight
47. Regional Map
48. Location Pins

**Specialized Business (10 illustrations)** - Mix:
49. Customer Journey Map (horizontal timeline)
50. Sales Pipeline (funnel stages)
51. Market Segmentation (nested circles/grid)
52. Competitive Landscape (positioning)
53. Product Roadmap (timeline + lanes)
54. Decision Tree (branching logic)
55. Gantt Chart (horizontal bars)
56. Swimlane Diagram (lanes + flow)
57. Service Blueprint (multiple layers)
58. Empathy Map (4 quadrants + center)

**Financial & Analytical (10 illustrations)**:
59. Income Statement (table format)
60. Balance Sheet (table format)
61. Cash Flow Waterfall (bars + connectors)
62. ROI Calculation (formula + visual)
63. Break-Even Analysis (chart + calculation)
64. Scenario Analysis (comparison grid)
65. Sensitivity Analysis (matrix)
66. Investment Framework (decision matrix)
67. Portfolio Allocation (pie/donut)
68. Cost-Benefit Analysis (comparison)

**Marketing & Sales (10 illustrations)**:
69. Marketing Funnel (detailed stages)
70. Conversion Funnel (with metrics)
71. A/B Test Results (comparison)
72. Campaign Performance (metrics grid)
73. Social Media Strategy (multi-channel)
74. Content Calendar (grid)
75. Pricing Strategy (tiers comparison)
76. Distribution Channels (flow)
77. Brand Positioning (perceptual map)
78. Market Sizing (calculation flow)

**Operations & Process (9 illustrations)**:
79. Supply Chain (flow)
80. Quality Control (process steps)
81. Kanban Board (columns + cards)
82. Lean Manufacturing (waste elimination)
83. Six Sigma (DMAIC cycle)
84. Workflow Automation (before/after)
85. Capacity Planning (resource allocation)
86. Inventory Management (flow)
87. Production Schedule (timeline)

### Months 16-17: Custom Endpoint with Gemini Integration

**Objective**: Natural language description → Illustration

**How It Works**:
1. User provides description: "Create a 4-step process flow showing Research, Design, Build, Launch"
2. **Gemini 2.5 Flash parses intent**:
   - Identifies illustration type: `process_flow_4step`
   - Extracts data: `steps = [{"title": "Research"}, ...]`
3. **Service fills template** (same as standard endpoint)
4. **Returns** illustration with confidence score

**Implementation**:
```python
# app/custom.py
async def generate_custom(description: str, theme: str, size: str):
    # 1. Parse with Gemini
    intent = await gemini_parse_description(description)
    # {
    #   "illustration_type": "process_flow_4step",
    #   "data": {"steps": [...]},
    #   "confidence": 0.92
    # }

    # 2. Use standard generation (same as regular endpoint)
    if intent.confidence > 0.7:
        return template_service.generate(
            illustration_type=intent.illustration_type,
            data=intent.data,
            theme=theme,
            size=size
        )
    else:
        return {"error": "Low confidence", "suggestions": [...]}
```

**Development Breakdown**:
- **Month 16, Week 1-2**: Gemini integration setup
  - Vertex AI authentication
  - Prompt engineering for intent parsing
  - Test with 50+ example descriptions

- **Month 16, Week 3-4**: Description parsing logic
  - Extract illustration type from description
  - Extract data fields (titles, labels, values)
  - Confidence scoring
  - Fallback suggestions

- **Month 17, Week 1-2**: Testing & refinement
  - 100+ test cases with diverse descriptions
  - Edge case handling
  - Error messaging
  - Suggestion generation

- **Month 17, Week 3-4**: Integration & documentation
  - API endpoint: `POST /v1.0/generate/custom`
  - Documentation with examples
  - Integration tests

### Month 18: Performance Optimization & Production Readiness

**Performance**:
- Template caching optimization
- Playwright browser pooling
- Concurrent request handling
- Load testing with 100+ concurrent users

**Production Deployment**:
- Railway deployment configuration
- Environment variable management
- Monitoring and alerting (health checks)
- Error tracking
- Backup and recovery

**Documentation**:
- Complete API reference
- Integration guides for Director/Text Service
- Troubleshooting guide
- Best practices for template creation

### Phase 3 Success Criteria

- ✅ All 87 illustrations complete
- ✅ Custom endpoint functional with 80%+ accuracy
- ✅ API response time <2s (standard), <3s (custom)
- ✅ Production deployed on Railway
- ✅ Integration with Director v3.4 verified
- ✅ Comprehensive documentation complete
- ✅ All human-validated and approved

---

## Development Principles Throughout All Phases

### 1. **Validation-First Development**
- **NEVER** move to next illustration without approval
- Build → Present → Iterate → Approve → Move forward
- Your feedback is the quality gate

### 2. **HTML+CSS First, SVG Only When Needed**
- Always try HTML+CSS first (simpler, cleaner)
- Only use SVG when shapes require it (circles, curves, complex paths)
- Decision made during development with your validation

### 3. **Simplicity Over Complexity**
- Templates are just HTML files with placeholders
- Runtime is simple text substitution
- No over-engineering

### 4. **Quality Over Speed**
- Better to spend extra time getting one template perfect
- Than rushing and having to redo it later
- Your approval ensures quality

---

## Risk Mitigation

### Technical Risks

**Risk 1: HTML+CSS Can't Achieve Desired Visual**
- **Mitigation**: Try HTML+CSS first, fallback to SVG if needed
- **Validation**: You approve visual output regardless of method

**Risk 2: Template Doesn't Work Across All Themes/Sizes**
- **Mitigation**: Test all themes/sizes before presenting for approval
- **Validation**: Part of approval checklist

**Risk 3: PNG Conversion Quality Issues**
- **Mitigation**: Use Playwright with proper viewport settings
- **Fallback**: Alternative converters (wkhtmltoimage)

**Risk 4: Performance Slower Than Expected**
- **Mitigation**: Implement caching early
- **Monitoring**: Track generation times, optimize bottlenecks

### Schedule Risks

**Risk 1: More Iterations Than Expected Per Illustration**
- **Mitigation**: Build buffer time into estimates (5-7 hours per illustration)
- **Contingency**: Extend phase timelines if needed

**Risk 2: SVG Requirements Higher Than Anticipated**
- **Mitigation**: HTML+CSS covers most box-based layouts
- **Contingency**: SVG templates still follow same fill-and-render pattern

---

## Success Metrics

### Service Quality
- ✅ All illustrations render correctly across 4 themes
- ✅ All illustrations work at 3 size presets
- ✅ API response time <2s for templates, <3s for custom
- ✅ 100% human validation and approval
- ✅ Clean, maintainable code

### Integration Success
- ✅ Seamless integration with Director v3.4
- ✅ Compatible with Text Service v1.2 workflows
- ✅ Production deployment successful
- ✅ Zero critical bugs in production

### User Satisfaction
- ✅ Illustration quality meets professional standards
- ✅ Easy integration for consuming services
- ✅ Comprehensive documentation
- ✅ Responsive support

---

## Appendix: Typical Week Structure (Phases 1-2)

**Monday**: Build base template for Illustration N
- Create HTML+CSS structure
- Add placeholders
- Test with sample data
- Verify all themes/sizes

**Tuesday Morning**: Present Illustration N for validation
- Show rendered outputs
- Collect feedback
- Discuss any concerns

**Tuesday Afternoon - Wednesday**: Iterate based on feedback
- Adjust layout, spacing, colors
- Re-present until approved

**Thursday**: Create 2-3 variants for Illustration N
- Different visual styles
- Same data structure

**Friday Morning**: Present all variants for approval
- You select which to keep
- Finalize approved variants

**Friday Afternoon**: Document & test
- Add to API docs
- Create test cases
- Update illustration catalog

**Next Monday**: Start Illustration N+1

---

**End of Implementation Roadmap**
